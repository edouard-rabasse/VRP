# sweep.yaml
program: train.py
name: sweep_vgg_finetune  # ðŸ‘ˆ Nom explicite ici
project: VRP

command:
  - ${env}
  - python
  - ${program}
  - ${args_no_hyphens}

# On cherche Ã  maximiser la mÃ©trique val_accuracy (Ã  adapter)
metric:
  name: val_acc
  goal: maximize

method: bayes   # ou random, bayes...

parameters:
  model:
    values: ["vgg"]

  model.params.epochs:
    values: [20, 30,40]

  batch_size:
    values: [8,16, 32]

  model.params.learning_rate:
    values: [0.0001, 0.00005, 0.00001]

  # Optionnel : Hydra ignorera cette clÃ© pour les modÃ¨les qui ne l'utilisent pas
  model.freeze:
    values: [true]
  data:
    values: ["config7_new"]
  data.cfg_number:
    values: [2]
  model.weight_path:
    values: ["${hydra:runtime.cwd}/checkpoints/vgg_32_50_7.pth"]
